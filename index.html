<!DOCTYPE html>
<!--
  Copyright 2011 Google Inc. All Rights Reserved.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
      http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    
    <!--MODIFY your web page title -->
    <title>Fusion Tables Layer Example: Legend</title>

    <script type="text/javascript"
        src="https://maps.google.com/maps/api/js?key=AIzaSyDiGK8T4yG71LEKvk8CHqyyDltSLVXz7Bs"></script>

    <style type="text/css">
      html, body, #map-canvas {
        height: 100%;
        width: 100%;
        padding: 0;
        margin: 0;
      }
    
      #legend {
        background: #FFF;
        padding: 10px;
        margin: 5px;
        font-size: 12px;
        font-family: Arial, sans-serif;
      }
      .color {
        border: 1px solid;
        height: 12px;
        width: 12px;
        margin-right: 3px;
        float: left;
      }
      
      .firstrange{
        background:#f9cb9c;
      }
      
      .secondrange{
        background:#6aa84f;
      }
      
      .thirdrange{
        background:#4c1130;
      }
      
      .fourthrange{
        background:#660000;
      }
      
      .fifthrange{
        background:#ff9900;
      }
      
      .sixthrange{
        background:#ffff00;
      }
      .seventhrange{
        background:#00ff00;
      }
      .eigthrange{
        background:#9fc5e8;
      }
      .ninethrange{
        background:#274e13;
      }
      
 .my-legend .legend-title {
    text-align: left;
    margin-bottom: 8px;
    font-weight: bold;
    font-size: 90%;
    }
  .my-legend .legend-scale ul {
    margin: 0;
    padding: 0;
    float: left;
    list-style: none;
    }
  .my-legend .legend-scale ul li {
    display: block;
    float: left;
    width: 50px;
    margin-bottom: 6px;
    text-align: center;
    font-size: 80%;
    list-style: none;
    }
  .my-legend ul.legend-labels li span {
    display: block;
    float: left;
    height: 15px;
    width: 50px;
    }
  .my-legend .legend-source {
    font-size: 70%;
    color: #999;
    clear: both;
    }
  .my-legend a {
    color: #777;
    }      
      
      
    </style>

    <script type="text/javascript">
      function initialize() {
        // MODIFY the map center point, zoom level, and type if desired
        var map = new google.maps.Map(document.getElementById('map-canvas'), {
          center: new google.maps.LatLng(37.4, -90.1),
          zoom: 4,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        });
        // MODIFY these items in the section below: 
        // Insert the header of the geocoded location data column in your Google Fusion Table. Mine is 'Address'. If your header includes spaces, type with double-quotes around single-quotes, like this: "'My Addresses'"
        // Insert your Google Fusion Table ID number, the long string that appears in File menu > About this Table.
        // Insert your styleId and templateId numbers, which appear in your GFT > Map > Publish > Get HTML and JavaScript.
        var layer = new google.maps.FusionTablesLayer({
          map: map,
          query: {
            select: 'geometry',
            from: '1csJ4KiOaquOxkpZK73zUbMN_aC1YHoNCi_PgGdFS',
          },
          styles: [{
             polygonOptions: {
                fillColor: '#00FF00',
                fillOpacity: 0.7
             }      
             },{
                where: 'VALUE > -1 && VALUE < 301',
                polygonOptions: {
                   fillColor: '#f9cb9c;'
                }
            }, {
                where: 'VALUE > 300 && VALUE < 501',
                polygonOptions: {
                  fillColor: '#f9cb9c;'
                }
            }            
          ]   
        });
        // MODIFY Title and text of your legend. Match color names and labels to the Google Fusion Table map marker icons you already created.
        // To display link to source data, insert the URL of your Google Fusion Table.
        var legend = document.createElement('div');
        legend.id = 'legend';
        var content = [];
        content.push("<div class='my-legend'>")
        content.push("<div class='legend-title'>Cost based on County/Municipality</div>")
        content.push("<div class='legend-scale'>");
        content.push("<ul class='legend-labels'>")
        content.push("<li><span class = 'firstrange'></span>0 - 300</li>");
        content.push("<li><span class = 'secondrange'></span>301 - 500</li>");
        content.push("<li><span class = 'thirdrange'></span>501 - 700</li>");
        content.push("<li><span class = 'fourthrange'></span>701 - 2,000</li>");
        content.push("<li><span class = 'fifthrange'></span>2,001 - 5,000</li>");
        content.push("<li><span class = 'sixthrange'></span>5,001 - 10,000</li>");
        content.push("<li><span class = 'seventhrange'></span>10,001 - 20,000</li>");
        content.push("<li><span class = 'eigthrange'></span>20,001 - 30,000</li>");
        content.push("<li><span class = 'ninethrange'></span>30,001 - 10,00,000</li>");
        content.push("</ul>")
        content.push("</div>")
        content.push("</div>");
        legend.innerHTML = content.join('');
        legend.index = 1;
        map.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(legend);
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
  </body>
</html>
